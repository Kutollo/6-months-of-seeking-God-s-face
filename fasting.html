<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FaithSteps – Fasting Week</title>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg: #f4fdfc;
      --primary: #065f46;
      --secondary: #10b981;
      --highlight: #bbf7d0;
      --text: #333;
      --white: #fff;
      --shadow: rgba(0, 0, 0, 0.07);
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'DM Sans', sans-serif;
      background: url('https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80') no-repeat center center/cover;
      color: var(--white);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    header {
      background: rgba(6,95,70,0.75);
      text-align: center;
      padding: 4rem 2rem;
      box-shadow: inset 0 0 200px rgba(6,95,70,0.75);
      position: relative;
      color: var(--white);
      font-weight: 700;
      font-size: 1.3rem;
    }
    nav {
      background: var(--primary);
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      padding: 1rem;
      box-shadow: 0 4px 8px var(--shadow);
    }
    nav a {
      color: var(--white);
      margin: 0.5rem 1.2rem;
      text-decoration: none;
      font-weight: 700;
      font-size: 1.1rem;
      transition: all 0.3s ease;
    }
    nav a:hover {
      text-decoration: underline;
      color: var(--secondary);
    }
    main {
      background: rgba(255 255 255 / 0.85);
      color: var(--primary);
      max-width: 800px;
      margin: 2rem auto 4rem;
      padding: 2rem 2rem 3rem;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      flex-grow: 1;
    }
    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.4rem;
    }
    h2 {
      font-weight: 700;
      margin-bottom: 0.6rem;
    }
    #fastingInfo {
      font-size: 1.15rem;
      margin-bottom: 1.5rem;
      font-weight: 600;
    }
    #countdown {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 1rem;
      text-align: center;
      letter-spacing: 2px;
    }
    #countdownLabel {
      font-weight: 600;
      font-size: 1.1rem;
      margin-bottom: 2rem;
      text-align: center;
    }
    #dailyVerse, #prayerPoint {
      background: var(--highlight);
      padding: 1rem 1.5rem;
      border-radius: 10px;
      margin-bottom: 1.5rem;
      box-shadow: inset 0 0 6px #86efac;
      color: var(--primary);
      line-height: 1.5;
      font-size: 1.1rem;
    }
    #prayerPoint {
      font-style: italic;
    }
    @media (max-width: 600px) {
      main {
        margin: 1rem 1rem 3rem;
        padding: 1.5rem 1.5rem 2.5rem;
      }
      h1 {
        font-size: 2rem;
      }
      #countdown {
        font-size: 1.6rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Fasting Week: July 21–27, 2025</h1>
    <div id="fastingInfo">Water Fast: From 12:00 AM to 5:00 PM daily</div>
  </header>
  <nav>
    <a href="index.html">Home</a>
    <a href="journal.html">Journal</a>
    <a href="verses.html">Verses</a>
    <a href="fasting.html">Fasting</a>
  </nav>
  <main>
    <div id="countdownLabel">Loading countdown...</div>
    <div id="countdown">--:--:--</div>
    <section id="dailyVerse">Loading daily scripture...</section>
    <section id="prayerPoint">Loading prayer point...</section>
  </main>

  <script>
    (() => {
      const fastingStartDate = new Date('2025-07-21T00:00:00');
      const fastingEndDate = new Date('2025-07-27T23:59:59');

      const dailyVerses = {
        "2025-07-21": "Psalm 37:4 - Delight yourself in the Lord, and He will give you the desires of your heart.",
        "2025-07-22": "Galatians 2:20 - I have been crucified with Christ and I no longer live, but Christ lives in me.",
        "2025-07-23": "Ephesians 3:16-19 - That you may be filled with all the fullness of God.",
        "2025-07-24": "Psalm 119:105 - Your word is a lamp to my feet and a light to my path.",
        "2025-07-25": "Joel 2:12 - Return to the Lord your God, for He is gracious and compassionate.",
        "2025-07-26": "Isaiah 58:6 - To loose the chains of injustice and untie the cords of the yoke.",
        "2025-07-27": "Matthew 6:17-18 - When you fast, anoint your head and wash your face."
      };

      const prayerPoints = {
        "2025-07-21": "Pray for a renewed hunger and thirst for God’s presence.",
        "2025-07-22": "Pray for a deeper union with Christ living in you.",
        "2025-07-23": "Pray to be filled with the fullness of God’s Spirit.",
        "2025-07-24": "Pray for guidance and illumination through God’s Word.",
        "2025-07-25": "Pray for repentance and returning to God’s grace.",
        "2025-07-26": "Pray for justice and freedom from oppression.",
        "2025-07-27": "Pray that your fasting is sincere and honored by God."
      };

      const countdownLabel = document.getElementById('countdownLabel');
      const countdown = document.getElementById('countdown');
      const dailyVerse = document.getElementById('dailyVerse');
      const prayerPoint = document.getElementById('prayerPoint');

      function formatTime(ms) {
        const totalSeconds = Math.floor(ms / 1000);
        const hours = Math.floor(totalSeconds / 3600).toString().padStart(2, '0');
        const minutes = Math.floor((totalSeconds % 3600) / 60).toString().padStart(2, '0');
        const seconds = (totalSeconds % 60).toString().padStart(2, '0');
        return `${hours}:${minutes}:${seconds}`;
      }

      function update() {
        const now = new Date();

        if (now < fastingStartDate) {
          countdownLabel.textContent = `Fasting week begins on July 21, 2025 at 12:00 AM`;
          countdown.textContent = formatTime(fastingStartDate - now);
          dailyVerse.textContent = "Prepare your heart to seek God.";
          prayerPoint.textContent = "";
          return;
        }

        if (now > fastingEndDate) {
          countdownLabel.textContent = "Fasting week has ended. Praise God for His faithfulness!";
          countdown.textContent = "";
          dailyVerse.textContent = "";
          prayerPoint.textContent = "";
          return;
        }

        // We are in fasting week:
        // Find today's date string in YYYY-MM-DD
        const todayStr = now.toISOString().split('T')[0];
        dailyVerse.textContent = dailyVerses[todayStr] || "Stay rooted in the Word. Verse coming soon.";
        prayerPoint.textContent = prayerPoints[todayStr] || "";

        // Define today's fasting start and end times:
        const fastingStartToday = new Date(todayStr + "T00:00:00");
        const fastingEndToday = new Date(todayStr + "T17:00:00"); // 5 PM

        if (now < fastingStartToday) {
          // Before fasting start (12 AM)
          countdownLabel.textContent = `Fasting today starts at 12:00 AM`;
          countdown.textContent = formatTime(fastingStartToday - now);
        } else if (now >= fastingStartToday && now <= fastingEndToday) {
          // During fasting (12 AM - 5 PM)
          countdownLabel.textContent = `Fasting ends at 5:00 PM`;
          countdown.textContent = formatTime(fastingEndToday - now);
        } else {
          // After fasting window ended, countdown to next day fasting start
          const nextDay = new Date(fastingStartToday.getTime() + 24 * 3600 * 1000);
          countdownLabel.textContent = `Next fasting day starts at 12:00 AM on ${nextDay.toLocaleDateString(undefined, {month:'long', day:'numeric'})}`;
          countdown.textContent = formatTime(nextDay - now);
        }
      }

      update();
      setInterval(update, 1000);
    })();
  </script>
</body>
</html>
